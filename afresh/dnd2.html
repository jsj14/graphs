<html>  
<head>  
    <title>Raphael Play</title>  
   <script type="text/javascript" src="raphael.js"></script> 
   <script type="text/javascript" src="jquery.contextMenu.r2.js"></script>
   <script src="raphael-min.js"></script>
<script src="flowchart-latest.js"></script>
<script src="jQuery.js"></script>
<script src="jquery-ui-1.9.2.custom.js"></script>
<script src="jquery-ui-1.9.2.custom.min.js"></script>
<script src="jquery.svg.js"></script>
<script src="jquery-1.8.3.js"></script>
<link type="text/css" href="jquery-ui.css" rel="stylesheet" /> 
<link type="text/css" href="jquery-ui.structure.css" rel="stylesheet" /> 
<script src="jquery-ui.js"></script>
<link type="text/css" href="jquery-ui.theme.css" rel="stylesheet" /> 
   <style type="text/css"> 
   #canvas_container {   
           width: 500px;   
           border: 1px solid #aaa;   
        }   
    </style>
   <script>
window.onload = function() {
var nowX, nowY, w = 500, h=400, r=30, R = Raphael("canvas_container", w, h),
    c = R.circle(100, 100, r).attr({
    fill: "hsb(.8, 1, 1)",
    stroke: "none",
    opacity: .5,
    cursor: "move"
});

var clone=c.clone();

var start = function () {
    // storing original coordinates
    this.ox = this.attr("cx");
    this.oy = this.attr("cy");
    this.attr({opacity: 1});
},
move = function (dx, dy) {
    // move will be called with dx and dy
    // restrict movement of circle to within boundaries
   if (this.ox + dx <= w - r && 
       this.oy + dy <= h - r &&
       this.ox + dx >= 0 + r && 
       this.oy + dy >= 0 + r)
   {
        this.attr({cx: this.ox + dx, cy: this.oy + dy});
   } // else nothing
},
up = function () {
    // restoring state
    this.attr({opacity: .5});
};

clone.drag(move, start, up); 

};
